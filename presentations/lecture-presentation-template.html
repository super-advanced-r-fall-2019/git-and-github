<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Git and Github</title>
    <meta charset="utf-8" />
    <meta name="author" content="Lee Qi" />
    <meta name="date" content="2019-10-19" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Git and Github
## FISH 507 Fall 2019
### Lee Qi
### 2019-10-19

---

background-image: url(https://git-scm.com/images/logo@2x.png)
background-size: 100px
background-position: 80% 90%




# In this class:

What is Git?

Why use Git?

Basic Git commands

--

Some Github features

&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Octocat_GitHub_Mascot.png/600px-Octocat_GitHub_Mascot.png" width="20%" /&gt;


---
background-image: url(https://git-scm.com/images/logo@2x.png)
background-size: 100px
background-position: 80% 90%

# What is Git?

--

- A system for version control

  - Stored as a series of snapshots (commits)
  - Reload and restart from each snapshot
![](https://blog.devmountain.com/wp-content/uploads/2019/07/Gitvs.Github-1b-750x322.jpg)

???
Like saving at checkpoints in a video game

--

- Free and open source

---

.pull-left[
# Git

&lt;img src="https://git-scm.com/images/logo@2x.png" width="50%" /&gt;

1. Local version control

1. From the command line or used with third party GUIs

1. Self-contained records of code
]

.pull-right[
# Github

&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Octocat_GitHub_Mascot.png/600px-Octocat_GitHub_Mascot.png" width="20%" /&gt;

1. Cloud-based hosting platform

1. Intuitive graphical web user interface

1. Designed for sharing and collaboration
]

---
# Why use

.pull-left[

&lt;img src="https://git-scm.com/images/logo@2x.png" width="50%" /&gt;

Keep track of your code over time

Go back to older versions of your repository

Branch to develop and test new features
]
--

.pull-right[

&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Octocat_GitHub_Mascot.png/600px-Octocat_GitHub_Mascot.png" width="20%" /&gt;

Store your repository with its associated version history on a cloud

Collaborate!
]

--

##Bottom line:
If (when) you screw your code up at some point, Git and Github will be there for you to help you find out when and where that happened.

---
background-image: url(https://git-scm.com/images/logo@2x.png)
background-size: 100px
background-position: 80% 90%

# How to Git

&lt;img src="https://git-scm.com/book/en/v2/images/areas.png" width="90%" /&gt;
--

background-image: url(https://media.giphy.com/media/odsSqL5YuuypW/giphy.gif)
background-size: 400px
background-position: 95% 95%

---

# Ways to Git

All Git commands can be executed in the command line- Command Prompt, Terminal.

There are also many different user interfaces for managing Git repositories.

- Dan's favourite: [GitKraken](https://www.gitkraken.com/)


- From the makers of Sublime Text: [SublimeMerge](https://www.sublimemerge.com/)


- From the developers of Github: [Github Desktop](https://desktop.github.com/)

- [RStudio](https://rstudio.com/)

.center[
&lt;img src="https://www.gitkraken.com/downloads/brand-assets/gitkraken-logo-light-sq.png" width="15%" /&gt;
&lt;img src="https://img.stackshare.io/service/9564/sublimemerge.png" width="15%" /&gt;
&lt;img src="https://desktop.github.com/images/desktop-icon.svg" width="18%" /&gt;
&lt;img src="https://rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-Flat.png" width="30%" /&gt;
]

---
class: centre

# But

--

background-image: url(https://media.giphy.com/media/51Uiuy5QBZNkoF3b2Z/giphy.gif)
background-size: 300px
background-position: 50% 60%

Today we'll be learning how to run things from the ***command line***.

---
class: inverse, middle, center

# Exercise: Getting set up

---
class: inverse

# Getting set up

1. Open up a command window

  - Windows users: type "cmd" into your search bar
  - Mac users: type "terminal" into Spotlight
  - Linux users: you probably should know how to do this already

--

1. `git --version`
  - To check that you have installed Git

--

1. `git config --list`
  - To look at your global Git configuration variables
  
--
  
1. `git config --global user.name "Lee Qi" `
  - Set user name
  
1. `git config --global user.email "leeqi@uw.edu"`
  - Set email address
  
???
Commits are linked to these, and that's how git and Github track your commits over time

---

background-image: url(https://media.giphy.com/media/odsSqL5YuuypW/giphy.gif)
background-size: 400px
background-position: 90% 90%

# How to Git

`git init` or `git clone`

`git pull`

`git add` or `git remove`

`git commit`

`git push`

--

***`git help`*** or ***`git help &lt;verb&gt;`*** or ***`git &lt;verb&gt; -h`***

---

class: middle, centre

# `git clone`
Clones an existing repository from a remote connection onto your local directory.

---
background-image: url(https://media.giphy.com/media/9x6fPJVGpq9HO/giphy.gif)
background-size: 350px
background-position: 90% 90%

## Why `clone`? Why not just download the .zip file?

--

Sets directory up as a repository (i.e., with version history)

Sets up link to remote git repository (`git clone`)

Tracks your local changes and compares to the remote connection (`git status`)

Pull easily to incorporate updates (`git pull`)

---

# Cloning vs Forking

.pull-left[
### Cloning

1. Creates a local copy of the repository on your computer

1. Does not automatically grant push privileges

1. If you have changes or fixes, they stay in your local repository unless you're granted pushing privileges
]

.pull-right[
### Forking

1. Creates a copy of the repository on Github

1. You have push privileges to your forked repository

1. You can create a Pull Request for the owner of the original repository to review your changes and merge them into the original repository
]

---
class: inverse, middle, centre

# Exercise: `git clone`

---
class: inverse
# `git clone`

--
background-image: url("../imgs/clone.png")
background-size: 400px
background-position: 90% 20%

Navigate to the class [page](https://github.com/super-advanced-r-fall-2019/git-and-github).

Copy repo link.

--
### From the command line:

```
git clone https://github.com/super-advanced-r-fall-2019/git-and-github.git
```

### From RStudio:

1. New Project
1. Version control
1. Git
1. Repository URL: https://github.com/super-advanced-r-fall-2019/git-and-github.git
---

background-image: url(https://media.giphy.com/media/ZaF4Vl1NQxwaVsStQU/giphy.gif)
background-size: 150px
background-position: 90% 90%

# `.gitignore`

One file to rule them all

Specifies files and diretories to ignore (intentionally untrack)

Each line specifies a pattern

Visit [here](https://git-scm.com/docs/gitignore) for ways to specify patterns

Can also set global patterns to ignore as a configuration variable `core.excludesFile`

***NOTE***: Files already tracked by Git are not affected.
  To stop tracking a file that is currently tracked, `git rm --cached` will do the trick.

---
class: middle, centre

# `git pull`

Pulls changes from the remote repository and merges them with your local copy

---

class: inverse, middle, centre

# Workflow Demo

---


class: inverse, middle, centre

# Exercise: `git pull`

---
class: inverse

# `git pull`

### From the command line:
```
git pull
```

### From RStudio:

1. Git tab
1. Pull

---

# What happens if you've made changes to the same file that someone had already committed?
--

## Sometimes
If more than one person has been working on the same file, you can get the dreaded ***MERGE CONFLICT*** message.

--
## But
We are getting ahead of ourselves...

---

class: inverse, middle, center

# Exercise: Create a new repo

---

class: inverse

# Creating a New Repository

- Create a new repository on GitHub

- Clone it to your computer

- Add to the .gitignore file

- Change the README.md

- Make a local change, commit it, and push it to GitHub

  - For extra fun, revert back to the repo state before that commit


---
class: inverse, middle, center
# Exercise: Pair up

???
Pick a person 1 and a person 2
---

## Deal with Conflict

- Make a few changes on GitHub

- Change the same things locally

- Try and pull changes from GitHub

- Resolve conflict, and push back to GitHub

---

## Branching

- Create a branch from your local repo

- Make changes to that branch

- Merge those changes back into the master branch


---

## Branching and Rebasing 

- Make another branch

- Make and commit changes in that branch

- Go back to master and make changes

- Go back to your branch and [rebase](https://git-scm.com/book/en/v2/Git-Branching-Rebasing) from master

- Merge rebased branch back into master

---

## Forking and Pull Requests

- Break into teams, and have one person fork the repo their partner made

- Have the fork-er create a branch and make changes to it (ideally with conflicts)

  - Commit and push those changes
  
  - Submit a pull request to the original repo's master branch
  
  - Have owner of repo review and merge pull request

---

# Dealing with Merge Conflicts

`git diff`

- Git's internal `diff`-ing tool that shows changes to code
- Can get unwieldy with large changes

`git stash`

- Stores a local version of your changes as in a "stash" without necessarily staging and commiting those changes
- After `pull`ing, can use `git stash pop` to merge your local changes with new changes
- Still have to manually go into the file and accept / reject changes

---
# Dealing with Merge Conflicts

Might be easier to go into a GUI and manually sort through the changes
- Some GUIs have more intuitive interfaces than others

--

background-image: url(https://media.giphy.com/media/hvGKQL8lasDvIlWRBC/giphy.gif)
background-size: 350px
background-position: 50% 80%

## If all else fails, there is always the nuclear option... but ***highly do not recommend***!

---

# Github Issues

---
# Tips
- Deleting files doesn't remove from Github necessarily
- Repos can get unwieldy

---


## Resources

[Happy Git and Github for the useR](https://happygitwithr.com/)

[Oh Sh*t, Git!](https://ohshitgit.com/) 
  
  * [Dangit, Git!](https://dangitgit.com/) if you're so inclined

[git documentation itself isn't bad](https://git-scm.com/docs/)

## Fun Resources

[Commits From Last Night](http://www.commitlogsfromlastnight.com/)

[git manual page generator](https://git-man-page-generator.lokaltog.net/)

[starwars intro you commit history!](http://starlogs.net/#DanOvando/Global-Fishery-Potential)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
